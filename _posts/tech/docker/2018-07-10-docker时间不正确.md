---
layout: post
title:  "docker时间不正确的问题"
date:   2018-07-10
tags:
        - 技术
        - docker
---


在本地环境遇到docker容器时间不正确的问题。 容器时间与主机时间相差有四天的样子， 可以排除时区的问题。但在网上搜来搜去，基本上都是关于容器时间与主机的时区的解决方案， 如 [解决容器时间与主机时间不一致的问题三种解决方案_docker](https://yq.aliyun.com/ziliao/94788) 。 也尝试替换了 __/etc/localtime__ 文件，没有效果。 过程中发现几个容器时间都是一样的， 即使是重新拉起的， 怀疑是 docker 环境的问题。 将docker 服务重启一下， 再启动相关的容器， 时间就对了。 最终定位是docker服务启了之后 ，我的电脑曾进入待机模式，然后docker服务的时间就停在那里了， 等电脑唤醒后，docker时间是从上次暂停的时间继续走， 而不是和宿主机器同步时间。  当然，若是生产环境的机器就不会有这个问题了， 谁的生产机器会进入待机模式呢？   我的 docker版本是  __Version 17.03.0-ce-mac2 (15654)__， 不知其它的版本是否有这个问题。
